@model IEnumerable<sistema.Models.Categoria>

@{
    ViewData["Title"] = "::: STREAMING";
    Layout = "~/Views/Shared/_Layout.cshtml";
}


@if (User?.Identity?.IsAuthenticated ?? false)
{ 



           <!------------------content-------------->
        <div class="content">
            <div class="cards">
                <div class="card"  id="card2">
                    <div class="card-right">
                        <div class="card-top-info">
                            <h3 id="cardData">@ViewBag.DNS : Dns</h3>
                        </div>
                    </div>
                </div>
                <div class="card" id="card2">
                    <div class="card-right">
                        <div class="card-top-info">

                            <h3 id="cardData">@ViewBag.PLANOS : Planos</h3>
                        </div>
                    </div>
                </div>
                <div class="card" id="card2">
                    <div class="card-right">
                    <div class="card-top-info">
                        <h3 id="cardData">@ViewBag.ACESSOS : Acessos</h3>
                    </div>
                </div>
                </div>

   

                <div class="card card-graph">
                    <div class="text">
                        <div class="gray-text">Analise de DNS</div>
                        <div class="card-top-info">
                            <h3>Dns Cadastrados</h3>
                        </div>
                        <div class="card-bottom-info">
                            <i class="fas fa-angle-up text-success"></i>
                            <span class="text-success">@ViewBag.DNS</span>
                        </div>
                    </div>
                    <div class="graph">
                        <div id="chart_div1" style="width:100%; height: 100%;" class="chart"></div>
                    </div>
                </div>
                <div class="card card-graph">
                    <div class="text">
                        <div class="gray-text">Acessos Host</div>
                        <div class="card-top-info">
                            <h3>Online/Offline</h3>
                        </div>
                        <div class="card-bottom-info">
                            <i class="fas fa-angle-up text-success"></i>
                            <span class="text-success">@ViewBag.ACESSOS</span>
                        </div>
                        <div class="card-bottom-info">
                            <i class="fas fa-angle-up text-success"></i>
                            <span class="text-success">@ViewBag.ACESSOSINATIVOS</span>
                        </div>
                    </div>
                    <div class="graph">
                        <div id="piechart" style="width:100%; height: 100%;" class="chart"></div>
                    </div>


                </div>
            </div>
        </div>


}else{

    <div id="home">
    <center>
    <img id="img_3"src="images/streamer2.gif" />                  
    </center>
    <center>
         <p id="text_front_"><a id="link_"asp-area="" asp-controller="Dispositivos" asp-action="Index" /> Usuário não está logado... redirecionando</p></center>
    </div>
    <script type="text/javascript">   
    function Redirect() 
    {  
        window.location="/Identity/Account/Login"; 
    } 
    setTimeout('Redirect()', 3000);   
   </script>
}
@section Scripts{
    <script>  
    google.load("visualization", {packages:["corechart"]});
    google.setOnLoadCallback(drawChart1);
    function drawChart1() {
    var data = google.visualization.arrayToDataTable([
        ['DNS', 'Total',],
        ['Dns',  @ViewBag.DNS],
    ]);

    var options = {
        chartArea:{left:20,top:20,width:'100%',height:'80%'},
        colors: ["#9a1eff" ,"#2d014b"],
    };

    var chart = new google.visualization.ColumnChart(document.getElementById('chart_div1'));
    chart.draw(data, options);
    }

    // -------------------graph 2-------------------------

    google.charts.load('current', {'packages':['corechart']});
    google.charts.setOnLoadCallback(drawChart2);

    function drawChart2() {

    var data = google.visualization.arrayToDataTable([
        ['Analise', 'Analise Diário'],

    ]);

    var options = {
        colors: ["#9a1eff" ,"#2d014b" , "#a253e2"],
        legend: {postion: "right",textStyle: {color: 'rgb(74, 80, 115)', fontSize:12}},
        chartArea:{left:100,top:0,width:'100%',height:'100%'},
    };

    var chart = new google.visualization.PieChart(document.getElementById('chart_div2'));

    chart.draw(data, options);
    };

    // -------------------graph 3-------------------------

    google.charts.load("current",{ packages: ["corechart"] });
    google.charts.setOnLoadCallback(drawChart3);

    function drawChart3() {

    var data = google.visualization.arrayToDataTable([
        ['Analise', 'Analise de Acessos'],
        ['Ativos',                  @ViewBag.ACESSOS],
        ['Inativos',                @ViewBag.ACESSOSINATIVOS],
    ]);

    var options = {
    pieHole: 0.5,
        colors: ["#9a1eff" ,"#2d014b" , "#a253e2"],
        legend: {postion: "right",textStyle: {color: 'rgb(74, 80, 115)', fontSize:12}},
        chartArea:{left:100,top:0,width:'100%',height:'100%'},
    };

    var chart = new google.visualization.PieChart(document.getElementById('piechart'));

    chart.draw(data, options);
    };

    // -------------------graph 4-------------------------

    var options = {
        chart: {
        type: 'line',
        height:350,
        width:"100%",
        zoom: { enabled: false}
        },
        stroke:{
        width:3,
        colors:['rgb(238, 80, 80)'],
        curve:'smooth' , //(smooth , straight , stepline)
        },
        fill:{
        opacity:0.1,
        colors:"rgb(252, 235, 236)",
        type:'solid'  //(solid, gradient, pattern ,image)
        },
        series: [{
        name: '',
        data: [0,10,30,50,80,50,30],
        type: 'area'
        } 
        ],
        xaxis: {
        categories: ['Mon','Tue','Wed','Thu','Fri','Sat','Sun']
        }
    }
    
    var chart = new ApexCharts(document.querySelector("#chart"), options);
    
    chart.render();

    // -----------map-----------------------------
    google.charts.load('current', {
    'packages':['geochart'],
    });
    google.charts.setOnLoadCallback(drawRegionsMap);

    function drawRegionsMap() {
    var data = google.visualization.arrayToDataTable([
        ['Country', 'Popularity'],
        ['Germany', 200],
        ['United States', 200],
        ['Brazil', 400],
        ['Canada', 300],
        ['France', 100],
        ['Egypt', 300],
        ['France', 500],
        ['Poland', 230],
    ]);

    var options = {
    colors:["rgb(238, 80, 80)"],
    };

    var chart = new google.visualization.GeoChart(document.getElementById('regions_div'));

    chart.draw(data, options);
    }

</script>
}